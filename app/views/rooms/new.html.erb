<%= render "shared/header" %>

<div>
  <h1>チャットルーム作成</h1>
  <%= form_with model: @room, local: true do |f| %>
    <div>
      <div><%= f.label :ルーム名 %></div>
      <div><%= f.text_field :name %></div>
    </div>

    <div>
      <select name="room[user_ids][]">
        <option value="">選択してください</option>
        <% User.where.not(id: current_user.id).each do |user| %>
          <option value=<%= user.id %>><%= user.nickname %></option>
        <% end %>
      </select>
      <input name="room[user_ids][]" type="hidden" value=<%= current_user.id %>>
    </div>

    <div>
      <div><%= f.submit %></div>
    </div>
  <% end %>
</div>